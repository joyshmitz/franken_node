{
  "bead_id": "bd-nbwo",
  "section": "10.17",
  "title": "Universal Verifier SDK and Replay Capsule Format",
  "status": "pass",
  "verdict": "PASS",
  "deliverables": [
    "docs/specs/section_10_17/bd-nbwo_contract.md",
    "crates/franken-node/src/connector/universal_verifier_sdk.rs",
    "scripts/check_universal_verifier_sdk.py",
    "tests/test_check_universal_verifier_sdk.py",
    "artifacts/section_10_17/bd-nbwo/verification_evidence.json",
    "artifacts/section_10_17/bd-nbwo/verification_summary.md"
  ],
  "checker": {
    "command": "python3 scripts/check_universal_verifier_sdk.py --json",
    "report_path": "artifacts/section_10_17/bd-nbwo/check_report.json"
  },
  "self_test": {
    "command": "python3 scripts/check_universal_verifier_sdk.py --self-test"
  },
  "unit_tests": {
    "command": "python3 -m pytest tests/test_check_universal_verifier_sdk.py -v"
  },
  "implementation": {
    "module": "crates/franken-node/src/connector/universal_verifier_sdk.rs",
    "schema_version": "vsdk-v1.0",
    "types": [
      "CapsuleVerdict",
      "CapsuleManifest",
      "ReplayCapsule",
      "ReplayResult",
      "SessionStep",
      "VerificationSession",
      "VerifierSdk",
      "VsdkEvent",
      "VsdkError"
    ],
    "event_codes": 7,
    "error_codes": 7,
    "invariants": 5,
    "core_operations": [
      "validate_manifest",
      "verify_capsule_signature",
      "sign_capsule",
      "replay_capsule",
      "create_session",
      "record_session_step",
      "seal_session",
      "create_verifier_sdk"
    ]
  },
  "invariants": {
    "INV-VSDK-CAPSULE-DETERMINISTIC": "Same capsule always produces same verdict and output hash",
    "INV-VSDK-NO-PRIVILEGE": "External verifiers never require privileged internal access",
    "INV-VSDK-SCHEMA-VERSIONED": "Every capsule and manifest carries a schema version",
    "INV-VSDK-SESSION-MONOTONIC": "Session steps are append-only; sealed sessions reject new steps",
    "INV-VSDK-SIGNATURE-BOUND": "Capsule signature covers manifest + payload + inputs"
  },
  "notes": [
    "External verifiers can replay signed capsules and reproduce claim verdicts without privileged internal access.",
    "Capsule schema (vsdk-v1.0) and verification APIs are stable and versioned.",
    "All types are Send + Sync, serializable via serde, and use BTreeMap for deterministic ordering.",
    "Builds on the verifier-economy SDK (bd-3c2, Section 10.12) foundation."
  ]
}
