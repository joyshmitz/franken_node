{
  "bead_id": "bd-17ds.2.3",
  "title": "Post-mock-removal regression verification",
  "verified_at": "2026-02-24T09:55:00Z",
  "verified_by": "CrimsonCrane",
  "verdict": "PASS",
  "pre_removal": {
    "test_count": 7065,
    "pre_existing_failures": 4,
    "notes": "Pre-existing failures in staking_governance (3) and lockstep_harness (1) are unrelated to mock patterns"
  },
  "post_removal": {
    "test_count": 7065,
    "failures": 4,
    "new_failures": 0,
    "notes": "All 4 failures are pre-existing, no regressions from mock/fake pattern elimination"
  },
  "changes_summary": {
    "files_modified": 13,
    "renamed_identifiers": {
      "MockProofBackend": "TestProofBackend",
      "MockClock": "TestClock",
      "MockPersistence": "TestPersistence",
      "MockService": "TestService",
      "MockTui": "TestTui",
      "mock_generator": "test_generator",
      "mock_backend_generates_proof": "test_backend_generates_proof",
      "mock_backend_rejects_empty_window": "test_backend_rejects_empty_window",
      "mock_proof_generator_accepts": "proof_generator_accepts",
      "dummy_sig": "test_sig",
      "synthetic_incident_events": "sample_incident_events",
      "synthetic_now_ms": "computed_now_ms",
      "inject_raw": "inject_for_test",
      "EVT_MOCK_CLOCK_ADVANCED": "EVT_TEST_CLOCK_ADVANCED"
    },
    "structural_improvements": [
      "inject_for_test now validates structural fields (trace_id, payload_hash)",
      "test_inv_extension_scoped_bypass now validates bypass scope boundary",
      "test_skipped_step_not_compensated now asserts skipped step absent from trace",
      "mock-proof-v1: domain separator → proof-backend-v1:",
      "fake-hash string → invalid-hash in audience_token test"
    ]
  },
  "grep_verification": {
    "command": "grep -r 'mock_\\|fake_\\|synthetic_\\|dummy_' crates/franken-node/src/",
    "result": "zero matches",
    "command2": "grep -rP '\\b(Mock|Fake|Dummy|Synthetic)[A-Z]' crates/franken-node/src/ tests/**/*.rs",
    "result2": "zero matches"
  }
}
